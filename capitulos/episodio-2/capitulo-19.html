<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Episodio 2, Cap. 19: Mostrando el Modelo en el Administrador - Programación para Mortales</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@300;400;500;600;700&family=Fira+Code:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Paleta de colores vibrante y moderna */
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --primary-light: #a5b4fc;
            --secondary: #ec4899;
            --secondary-dark: #db2777;
            --accent: #06b6d4;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --dark: #0f172a;
            --dark-blue: #1e293b;
            --light: #f8fafc;
            --gray: #64748b;
            --gray-light: #e2e8f0;

            /* Tipografía */
            --font-heading: 'Space Grotesk', sans-serif;
            --font-body: 'Outfit', sans-serif;
            --font-code: 'Fira Code', monospace;

            /* Espaciado */
            --spacing-xs: 0.25rem;
            --spacing-sm: 0.5rem;
            --spacing-md: 1rem;
            --spacing-lg: 1.5rem;
            --spacing-xl: 2rem;
            --spacing-2xl: 3rem;
            --spacing-3xl: 4rem;

            /* Bordes y sombras */
            --radius-sm: 0.25rem;
            --radius-md: 0.5rem;
            --radius-lg: 1rem;
            --radius-xl: 1.5rem;
            --radius-full: 9999px;

            --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);

            /* Transiciones */
            --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-normal: 300ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: 500ms cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 16px;
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-body);
            color: var(--dark);
            background-color: var(--light);
            line-height: 1.6;
            overflow-x: hidden;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: var(--font-heading);
            font-weight: 700;
            line-height: 1.2;
            margin-bottom: var(--spacing-lg);
            color: var(--dark);
        }

        h1 { font-size: 3rem; }
        h2 {
            font-size: 2.25rem;
            margin-top: var(--spacing-2xl);
            position: relative;
            padding-bottom: var(--spacing-sm);
        }
        h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 80px;
            height: 4px;
            background: var(--primary);
            border-radius: 2px;
        }
        h3 {
            font-size: 1.75rem;
            margin-top: var(--spacing-xl);
            color: var(--primary-dark);
        }

        p {
            margin-bottom: var(--spacing-lg);
            font-size: 1.125rem;
        }

        a {
            text-decoration: none;
            color: var(--primary);
            transition: var(--transition-normal);
        }
        a:hover { color: var(--primary-dark); }

        img {
            max-width: 100%;
            height: auto;
            border-radius: var(--radius-md);
            display: block; 
        }
        
        .img-analogy {
            border: 2px solid var(--gray-light);
            box-shadow: var(--shadow-md);
            margin-top: var(--spacing-sm);
            margin-bottom: var(--spacing-lg);
        }
        
        .img-centered {
            margin-left: auto;
            margin-right: auto;
            max-width: 750px; 
        }
        
        .img-screenshot {
            border: 1px solid var(--gray-light);
            box-shadow: var(--shadow-lg);
            border-radius: var(--radius-sm);
        }

        .table-container {
            overflow-x: auto;
            margin: var(--spacing-xl) 0;
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-md);
        }
        table {
            width: 100%;
            border-collapse: collapse;
            background-color: white;
        }
        th, td {
            padding: var(--spacing-md);
            text-align: left;
            border: 1px solid var(--gray-light);
        }
        th {
            background-color: var(--primary);
            color: white;
            font-weight: 600;
        }
        tr:nth-child(even) {
            background-color: var(--gray-light);
        }


        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--spacing-lg);
        }

        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 100;
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow-sm);
            transition: var(--transition-normal);
        }
        .header.scrolled { box-shadow: var(--shadow-md); }
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 70px;
        }
        .logo {
            font-family: var(--font-heading);
            font-weight: 800;
            font-size: 1.5rem;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }
        .logo-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            background-color: var(--primary);
            color: white;
            border-radius: var(--radius-md);
            font-weight: 700;
        }
        .nav {
            display: flex;
            align-items: center;
            gap: var(--spacing-xl);
        }
        .nav-link {
            font-weight: 500;
            color: var(--dark);
            position: relative;
        }
        .nav-link:hover { color: var(--primary); }
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--primary);
            transition: var(--transition-normal);
        }
        .nav-link:hover::after { width: 100%; }
        .nav-link.active { color: var(--primary); }
        .nav-link.active::after { width: 100%; }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 1.5rem;
            font-weight: 600;
            border-radius: var(--radius-full);
            transition: var(--transition-normal);
            gap: var(--spacing-sm);
        }
        .btn-primary {
            background-color: var(--primary);
            color: white;
            box-shadow: var(--shadow-md);
        }
        .btn-primary:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        .mobile-menu-btn {
            display: none;
            font-size: 1.5rem;
            color: var(--dark);
            cursor: pointer;
            border: none;
            background: none;
        }

        .chapter-header {
            padding-top: 120px;
            padding-bottom: var(--spacing-2xl);
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            position: relative;
            overflow: hidden;
        }
        .chapter-header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            opacity: 0.5;
        }
        .chapter-header-content { position: relative; z-index: 1; }
        .chapter-number {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: var(--spacing-sm);
            opacity: 0.9;
        }
        .chapter-title {
            font-size: 3.5rem;
            margin-bottom: var(--spacing-lg);
            color: white;
        }
        .chapter-meta {
            display: flex;
            gap: var(--spacing-lg);
            font-size: 1.125rem;
            opacity: 0.9;
        }
        .chapter-meta-item {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }

        .chapter-content { padding: var(--spacing-3xl) 0; }
        .content-wrapper { max-width: 800px; margin: 0 auto; }

        .highlight-box {
            background-color: rgba(99, 102, 241, 0.1);
            border-left: 4px solid var(--primary);
            padding: var(--spacing-lg);
            border-radius: 0 var(--radius-md) var(--radius-md) 0;
            margin: var(--spacing-xl) 0;
        }
        .note-box {
            background-color: rgba(236, 72, 153, 0.1);
            border-left: 4px solid var(--secondary);
            padding: var(--spacing-lg);
            border-radius: 0 var(--radius-md) var(--radius-md) 0;
            margin: var(--spacing-xl) 0;
        }
        .youtube-embed-container {
            position: relative;
            overflow: hidden;
            width: 100%;
            padding-top: 56.25%; 
            margin: var(--spacing-xl) 0;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-lg);
        }
        .youtube-embed-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }
        .image-container {
            margin: var(--spacing-xl) 0;
            text-align: center;
        }
        .image-caption {
            margin-top: var(--spacing-sm);
            font-size: 0.9rem;
            color: var(--gray);
            text-align: center;
        }

        ul, ol { margin: 0 0 var(--spacing-lg) var(--spacing-xl); }
        li { margin-bottom: var(--spacing-sm); }
        
        .code-block {
            position: relative;
            margin: var(--spacing-lg) 0;
        }
        .code-block-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: var(--dark);
            color: white;
            padding: var(--spacing-sm) var(--spacing-lg);
            border-radius: var(--radius-md) var(--radius-md) 0 0;
            font-family: var(--font-code);
            font-size: 0.9rem;
        }
        .code-block-title { font-weight: 600; }
        .code-block-actions { display: flex; gap: var(--spacing-sm); }
        .code-block-action {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.7);
            cursor: pointer;
            transition: var(--transition-normal);
            font-size: 0.9rem;
            padding: 2px 8px;
            border-radius: var(--radius-sm);
        }
        .code-block-action:hover {
            color: white;
            background-color: rgba(255, 255, 255, 0.1);
        }
        .code-block pre {
            margin: 0;
            border-top-left-radius: 0;
            border-top-right-radius: 0;
        }
        pre {
            background-color: var(--dark-blue);
            color: white;
            padding: var(--spacing-lg);
            border-radius: var(--radius-md);
            overflow-x: auto;
            margin: var(--spacing-lg) 0;
            font-family: var(--font-code);
            font-size: 0.9rem;
            line-height: 1.5;
        }
        code {
            font-family: var(--font-code);
            background-color: var(--gray-light);
            padding: 0.2rem 0.4rem;
            border-radius: var(--radius-sm);
            font-size: 0.9em;
        }
        pre code {
            background-color: transparent;
            padding: 0;
            border-radius: 0;
            font-size: 1em;
        }

        .chapter-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: var(--spacing-3xl);
            padding-top: var(--spacing-xl);
            border-top: 1px solid var(--gray-light);
        }
        .nav-btn {
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-sm);
            background-color: white;
            color: var(--primary);
            padding: var(--spacing-sm) var(--spacing-lg);
            border-radius: var(--radius-full);
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition-normal);
            border: 2px solid var(--primary);
            cursor: pointer;
        }
        .nav-btn:hover {
            background-color: var(--primary);
            color: white;
        }
        .nav-btn.next {
            background-color: var(--primary);
            color: white;
        }
        .nav-btn.next:hover {
            background-color: var(--primary-dark);
            border-color: var(--primary-dark);
        }

        .progress-container {
            position: fixed;
            top: 70px;
            left: 0;
            width: 100%;
            height: 4px;
            background-color: var(--gray-light);
            z-index: 99;
        }
        .progress-bar {
            height: 100%;
            background-color: var(--secondary);
            width: 0%;
            transition: width 0.3s ease;
        }

        .toc {
            position: sticky;
            top: 90px; 
            max-height: calc(100vh - 100px); 
            overflow-y: auto;
            padding-right: var(--spacing-md);
        }
        .toc-title {
            font-size: 1.25rem;
            margin-bottom: var(--spacing-md);
            padding-bottom: var(--spacing-sm);
            border-bottom: 2px solid var(--primary);
        }
        .toc-list { list-style: none; margin-left: 0; }
        .toc-item { margin-bottom: var(--spacing-sm); }
        .toc-link {
            display: block;
            padding: var(--spacing-xs) 0;
            color: var(--gray);
            transition: var(--transition-normal);
            border-left: 2px solid transparent;
            padding-left: var(--spacing-sm);
        }
        .toc-link:hover, .toc-link.active {
            color: var(--primary);
            border-left-color: var(--primary);
            padding-left: var(--spacing-md);
        }
        .toc-sublist { list-style: none; margin-left: var(--spacing-lg); margin-bottom: 0; }

        .footer {
            background-color: var(--dark);
            color: white;
            padding: var(--spacing-2xl) 0;
            margin-top: var(--spacing-3xl);
        }
        .footer-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .footer-logo {
            font-family: var(--font-heading);
            font-weight: 800;
            font-size: 1.5rem;
            color: white;
        }
        .footer-links {
            display: flex;
            gap: var(--spacing-lg);
        }
        .footer-link {
            color: rgba(255, 255, 255, 0.7);
            transition: var(--transition-normal);
        }
        .footer-link:hover { color: white; }
        .footer-bottom {
            margin-top: var(--spacing-lg);
            padding-top: var(--spacing-lg);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.875rem;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in { animation: fadeIn 0.5s ease-out forwards; }
        .delay-100 { animation-delay: 100ms; }
        .delay-200 { animation-delay: 200ms; }
        .delay-300 { animation-delay: 300ms; }

        .chapter-layout {
            display: grid;
            grid-template-columns: 3fr 1fr; 
            gap: var(--spacing-2xl);
        }

        @media (max-width: 992px) {
            .chapter-title { font-size: 2.5rem; }
            .chapter-layout { grid-template-columns: 1fr; }
            .toc { display: none; } 
        }
        @media (max-width: 768px) {
            .header-container { height: 60px; }
            .nav {
                position: fixed;
                top: 60px; 
                left: 0;
                width: 100%;
                height: 0; 
                background-color: white;
                flex-direction: column;
                align-items: flex-start;
                padding: 0 var(--spacing-lg);
                overflow: hidden;
                transition: var(--transition-normal);
                box-shadow: var(--shadow-md);
                opacity: 0;
                visibility: hidden;
            }
            .nav.active {
                height: auto; 
                padding: var(--spacing-lg);
                opacity: 1;
                visibility: visible;
            }
            .mobile-menu-btn { display: block; }
            .chapter-title { font-size: 2rem; }
            .chapter-meta { flex-direction: column; gap: var(--spacing-sm); }
            .chapter-navigation { flex-direction: column; gap: var(--spacing-md); }
            .nav-btn { width: 100%; justify-content: center; }
            .footer-container { flex-direction: column; gap: var(--spacing-lg); text-align: center; }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container header-container">
            <a href="../../index.html" class="logo">
                <span class="logo-icon">P</span>
                <span>Programación para Mortales</span>
            </a>
            <nav class="nav">
                <a href="../../index.html" class="nav-link">Inicio</a>
                <a href="../../index.html#episodes" class="nav-link">Episodios</a>
                <a href="../../index.html#future-courses" class="nav-link">Próximos cursos</a>
                <a href="../../about.html" class="nav-link">Acerca de</a>
                <a href="../../indice.html" class="nav-link">Índice completo</a>
                <a href="capitulo-20.html" class="btn btn-primary">Siguiente Capítulo</a>
            </nav>
            <button class="mobile-menu-btn">☰</button>
        </div>
    </header>

    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <section class="chapter-header">
        <div class="container chapter-header-content">
            <div class="chapter-number animate-fade-in">Episodio 2, Capítulo 19</div>
            <h1 class="chapter-title animate-fade-in delay-100">Mostrando el Modelo en el Administrador</h1>
            <div class="chapter-meta animate-fade-in delay-200">
                <div class="chapter-meta-item">
                    <span>⏱️ Tiempo de lectura: 9 minutos</span>
                </div>
                <div class="chapter-meta-item">
                    <span>🧩 Actividades: 1 (Modificar `admin.py`)</span>
                </div>
                <div class="chapter-meta-item">
                    <span>📚 Nivel: Principiante</span>
                </div>
            </div>
        </div>
    </section>

    <section class="chapter-content">
        <div class="container">
            <div class="chapter-layout">
                <div class="content-wrapper">
                    <h2 id="haciendo-visible-lo-invisible">🚪 Haciendo Visible lo Invisible: Nuestro Modelo en el Admin</h2>
                    <p>¡Ya tenemos nuestra tabla <code>Proveedor</code> definida en <code>models.py</code> y las migraciones aplicadas! Esto significa que la tabla existe físicamente en nuestra base de datos <code>db.sqlite3</code>. Pero si ahora mismo vas al panel de administración de Django (<code>/admin</code>) e inicias sesión, te llevarás una sorpresa: ¡nuestros Proveedores no aparecen por ningún lado!</p>
                    <p>Esto es porque, por defecto, Django no muestra automáticamente todos los modelos que creas en su panel de administración. ¡Sería un caos si lo hiciera con todas las tablas internas que usa! Nosotros tenemos que decirle explícitamente: "Django, quiero que este modelo <code>Proveedor</code> sea visible y manejable desde el admin".</p>
                    
                    <div class="image-container">
                        <img src="https://images.unsplash.com/photo-1503596476-1c12a8ba09a9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1074&q=80" alt="Puerta semiabierta revelando luz" class="img-centered img-analogy">
                        <p class="image-caption">Debemos "abrir la puerta" para que nuestro modelo Proveedor aparezca en el panel de administración.</p>
                    </div>

                    <h3 id="el-archivo-admin-py">🔑 La Llave Maestra: El Archivo <code>admin.py</code></h3>
                    <p>La magia para hacer visible nuestro modelo sucede en el archivo <code>admin.py</code> que se encuentra dentro de nuestra aplicación <code>libreta</code> (es decir, en <code>libreta/admin.py</code>).</p>
                    <p>Abre ese archivo en VS Code. Al principio, estará casi vacío, con algunos comentarios:</p>
                    <div class="code-block">
                        <div class="code-block-header">
                            <div class="code-block-title">libreta/admin.py (inicial)</div>
                        </div>
                        <pre><code class="language-python">
from django.contrib import admin

# Register your models here.
                        </code></pre>
                    </div>
                    <p>Para que nuestro modelo <code>Proveedor</code> aparezca, necesitamos dos cosas:</p>
                    <ol>
                        <li><strong>Importar nuestro modelo:</strong> Primero, tenemos que decirle a este archivo dónde encontrar la definición de nuestro modelo <code>Proveedor</code>. Como <code>admin.py</code> y <code>models.py</code> están en la misma carpeta (<code>libreta</code>), podemos importarlo de forma relativa.</li>
                        <li><strong>Registrar el modelo:</strong> Luego, tenemos que "registrar" nuestro modelo con el sitio de administración de Django.</li>
                    </ol>
                    <p>Modifica tu archivo <code>libreta/admin.py</code> para que se vea así:</p>
                    <div class="code-block">
                        <div class="code-block-header">
                            <div class="code-block-title">libreta/admin.py (modificado)</div>
                            <div class="code-block-actions">
                                <button class="code-block-action copy-btn">Copiar</button>
                            </div>
                        </div>
                        <pre><code class="language-python">
from django.contrib import admin
from .models import Proveedor # 1. Importamos nuestro modelo Proveedor

# Register your models here.
admin.site.register(Proveedor) # 2. Registramos el modelo
                        </code></pre>
                    </div>
                    <p>Analicemos:</p>
                    <ul>
                        <li><code>from .models import Proveedor</code>: El punto <code>.</code> antes de <code>models</code> significa "desde el directorio actual" (es decir, desde la app <code>libreta</code>), importa el archivo <code>models.py</code>, y de ahí, trae la clase <code>Proveedor</code> que definimos.</li>
                        <li><code>admin.site.register(Proveedor)</code>: Esta es la línea mágica. <code>admin.site</code> es el objeto que representa el sitio de administración de Django, y con el método <code>register()</code> le estamos diciendo: "Oye, sitio de admin, por favor registra y encárgate de este modelo llamado <code>Proveedor</code>".</li>
                    </ul>
                    <p><strong>¡No olvides guardar el archivo <code>admin.py</code>!</strong></p>
                    <p>Ahora, si tu servidor de desarrollo está corriendo (<code>python manage.py runserver</code>), ve a tu navegador y refresca la página del panel de administración (<code>http://127.0.0.1:8000/admin</code>). Si no estaba corriendo, inícialo.</p>
                    <p>¡Deberías ver una nueva sección! Bajo nuestra app "LIBRETA" (Django suele poner el nombre de la app en mayúsculas aquí), ahora aparecerá "Proveedors" (Django pluraliza el nombre del modelo por defecto, a veces en inglés).</p>

                    <div class="image-container">
                        <img src="https://i.imgur.com/QkYk0zL.png" alt="Panel de admin de Django mostrando el modelo Proveedores" class="img-screenshot img-centered">
                        <p class="image-caption">¡Ahí está! Nuestra app "Libreta" y el modelo "Proveedors" en el admin.</p>
                    </div>

                    <h3 id="explorando-proveedores">🧐 Explorando Nuestros "Proveedors"</h3>
                    <p>Haz clic en el enlace "Proveedors". Como todavía no hemos agregado ningún proveedor, la lista estará vacía, pero verás un botón "AÑADIR PROVEEDOR". ¡Pruébalo!</p>
                    <p>Verás un formulario con los campos que definimos en <code>models.py</code>: Nombre, Direccion, Email y Telefono. Fíjate que "Nombre" no tiene la indicación "(Opcional)" porque lo definimos con <code>blank=False, null=False</code>, mientras que los otros sí aparecen como opcionales.</p>
                    <p>Intenta agregar un par de proveedores de prueba. Por ejemplo:</p>
                    <ul>
                        <li><strong>Proveedor 1:</strong>
                            <ul>
                                <li>Nombre: Ferretería El Tornillo Feliz</li>
                                <li>Direccion: Av. Siempreviva 123</li>
                                <li>Email: contacto@tornillofeliz.com</li>
                                <li>Telefono: 1122334455</li>
                            </ul>
                        </li>
                        <li><strong>Proveedor 2:</strong>
                            <ul>
                                <li>Nombre: Papelera El Resplandor</li>
                                <li>(Deja los otros campos en blanco si quieres)</li>
                            </ul>
                        </li>
                    </ul>
                    <p>Después de guardarlos, volverás a la lista de proveedores. Pero... ¡oh! La lista muestra algo como "Proveedor object (1)", "Proveedor object (2)". No es muy descriptivo, ¿verdad? Sería mucho mejor si viéramos el nombre del proveedor directamente en la lista.</p>
                    
                    <div class="image-container">
                        <img src="https://i.imgur.com/k9sC1Uj.png" alt="Lista de Proveedores en el admin mostrando 'Proveedor object'" class="img-screenshot img-centered">
                        <p class="image-caption">Por defecto, la lista de objetos no es muy informativa.</p>
                    </div>
                    
                    <p>¿Recuerdas esa función <code>__str__(self)</code> que agregamos a nuestro modelo <code>Proveedor</code> en <code>models.py</code>?</p>
                    <pre><code class="language-python">
class Proveedor(models.Model):
    # ... nuestros campos ...
    def __str__(self):
        return self.nombre
                    </code></pre>
                    <p>Esa función le dice a Django qué mostrar cuando necesita una representación en texto de un objeto <code>Proveedor</code>. ¡Y el panel de administración la usa aquí! Gracias a ella, en lugar de "Proveedor object (ID)", ahora deberías ver el nombre de cada proveedor en la lista si refrescas la página del admin (o si ya lo tenías definido así).</p>
                    
                    <div class="image-container">
                        <img src="https://i.imgur.com/rV7F8nL.png" alt="Lista de Proveedores mostrando nombres gracias a __str__" class="img-screenshot img-centered">
                        <p class="image-caption">¡Mucho mejor! Ahora vemos los nombres de los proveedores.</p>
                    </div>

                    <h3 id="personalizando-la-lista-list-display">🎨 Personalizando la Lista: <code>list_display</code></h3>
                    <p>Ver el nombre está bien, pero ¿y si quisiéramos ver más información directamente en la lista, como el email o el teléfono, sin tener que hacer clic en cada proveedor?</p>
                    <p>Podemos personalizar cómo se ve esta lista en el admin. Para esto, modificaremos un poco nuestro archivo <code>libreta/admin.py</code>. En lugar de la simple línea <code>admin.site.register(Proveedor)</code>, vamos a crear una clase especial que nos permita configurar más opciones:</p>

                    <div class="code-block">
                        <div class="code-block-header">
                            <div class="code-block-title">libreta/admin.py (con personalización)</div>
                            <div class="code-block-actions">
                                <button class="code-block-action copy-btn">Copiar</button>
                            </div>
                        </div>
                        <pre><code class="language-python">
from django.contrib import admin
from .models import Proveedor

@admin.register(Proveedor) # Usamos un decorador para registrar
class ProveedorAdmin(admin.ModelAdmin):
    list_display = ('nombre', 'email', 'telefono', 'direccion') # Campos a mostrar en la lista
    # Si solo quieres un campo, recuerda la coma: list_display = ('nombre',)
                        </code></pre>
                    </div>
                    <p>Desmenucemos los cambios:</p>
                    <ul>
                        <li><code>@admin.register(Proveedor)</code>: Esto se llama un "decorador". Es una forma elegante en Python de modificar o extender el comportamiento de la clase que viene justo después (<code>ProveedorAdmin</code>). Aquí, le estamos diciendo a Django: "Registra el modelo <code>Proveedor</code> usando las configuraciones de esta clase <code>ProveedorAdmin</code>".</li>
                        <li><code>class ProveedorAdmin(admin.ModelAdmin):</code>: Creamos una nueva clase llamada <code>ProveedorAdmin</code> (el nombre es una convención, podría ser otro, pero es bueno seguirla). Esta clase debe heredar de <code>admin.ModelAdmin</code>, que es la clase base de Django para personalizar el admin.</li>
                        <li><code>list_display = ('nombre', 'email', 'telefono', 'direccion')</code>: ¡Esta es la clave! <code>list_display</code> es un atributo especial que le dice a Django qué campos del modelo <code>Proveedor</code> queremos que se muestren como columnas en la página de la lista de proveedores. Es una <strong>tupla</strong> (una lista que no se puede modificar, se escribe con paréntesis) de los nombres de los campos (tal cual los definiste en <code>models.py</code>).</li>
                        <li><strong>Nota sobre la tupla de un solo elemento:</strong> Si solo quisieras mostrar un campo en <code>list_display</code>, por ejemplo, solo el nombre, tendrías que escribirlo con una coma al final para que Python entienda que es una tupla: <code>list_display = ('nombre',)</code>. Sin la coma, Python pensaría que es solo una cadena de texto entre paréntesis y daría error.</li>
                    </ul>
                    <p>Guarda el archivo <code>libreta/admin.py</code>. Si tu servidor está corriendo, Django debería detectar el cambio y recargarse. Si no, reinícialo. Ahora, ve a la lista de Proveedores en el panel de administración (<code>/admin/libreta/proveedor/</code>) y... ¡magia!</p>

                    <div class="image-container">
                        <img src="https://i.imgur.com/k1fXgLp.png" alt="Lista de Proveedores con columnas personalizadas usando list_display" class="img-screenshot img-centered">
                        <p class="image-caption">¡Ahora nuestra lista de proveedores muestra la información que queremos!</p>
                    </div>

                    <p>Ahora verás columnas para Nombre, Email, Teléfono y Dirección. ¡Mucho más útil! Puedes hacer clic en los encabezados de las columnas para ordenar la lista por ese campo.</p>

                    <div class="highlight-box">
                        <h4>¡CRUD Completo sin Programar (casi)!</h4>
                        <p>Fíjate que con solo definir nuestro modelo en <code>models.py</code> y registrarlo (con una pequeña personalización) en <code>admin.py</code>, Django ya nos dio:</p>
                        <ul>
                            <li>Una forma de <strong>C</strong>rear nuevos proveedores (el botón "AÑADIR PROVEEDOR").</li>
                            <li>Una forma de <strong>R</strong>leer (ver) la lista de proveedores y el detalle de cada uno.</li>
                            <li>Una forma de <strong>U</strong>actualizar los datos de un proveedor (haciendo clic en uno y modificando su formulario).</li>
                            <li>Una forma de <strong>D</strong>eliminar proveedores (seleccionándolos en la lista y usando la acción de "Eliminar seleccionados").</li>
                        </ul>
                        <p>¡Tenemos un sistema CRUD (Crear, Leer, Actualizar, Eliminar) completamente funcional para nuestros proveedores, y casi no hemos escrito lógica para ello! Esa es la potencia del admin de Django.</p>
                    </div>

                    <div class="youtube-embed-container">
                        <iframe src="https://www.youtube.com/embed/sWrEA-14hsA" title="Video de YouTube sobre Registro y Personalización de Modelos en Admin Django" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                    <p class="image-caption">El video de este capítulo te muestra cómo registrar el modelo y personalizar la vista de lista con <code>list_display</code>.</p>

                    <div class="note-box">
                        <h4>Pequeño Resumen del Capítulo 19 (Episodio 2)</h4>
                        <p>Para que tus modelos aparezcan en el panel de administración de Django, debes "registrarlos". Esto se hace en el archivo <code>admin.py</code> de tu aplicación. Primero, importas tu modelo (ej: <code>from .models import Proveedor</code>). Luego, puedes usar <code>admin.site.register(Proveedor)</code> para un registro básico. Para personalizar cómo se ve la lista de tus objetos (ej: proveedores), es mejor crear una clase que herede de <code>admin.ModelAdmin</code>, usar el decorador <code>@admin.register(Proveedor)</code> sobre ella, y definir el atributo <code>list_display</code> como una tupla con los nombres de los campos que quieres mostrar como columnas. ¡Django te da la funcionalidad CRUD gratis!</p>
                    </div>

                    <p>El panel de administración es muy configurable. En el próximo capítulo, veremos un par de trucos más para hacerlo aún más útil, como agregar filtros y un buscador.</p>

                </div>

                <aside class="toc">
                    <h3 class="toc-title">En este capítulo</h3>
                    <ul class="toc-list">
                        <li class="toc-item"><a href="#haciendo-visible-lo-invisible" class="toc-link">Haciendo Visible lo Invisible</a></li>
                        <li class="toc-item"><a href="#el-archivo-admin-py" class="toc-link">El Archivo <code>admin.py</code></a></li>
                        <li class="toc-item"><a href="#explorando-proveedores" class="toc-link">Explorando "Proveedors"</a></li>
                        <li class="toc-item"><a href="#personalizando-la-lista-list-display" class="toc-link">Personalizando con <code>list_display</code></a></li>
                    </ul>
                </aside>
            </div>
        </div>
    </section>

    <section>
        <div class="container">
            <div class="content-wrapper">
                <div class="chapter-navigation">
                    <a href="capitulo-18.html" class="nav-btn">
                        <span>←</span> Capítulo anterior
                    </a>
                    <a href="capitulo-20.html" class="nav-btn next">
                        Siguiente Capítulo <span>→</span>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container footer-container">
            <a href="../../index.html" class="footer-logo">Programación para Mortales</a>
            <div class="footer-links">
                <a href="../../index.html" class="footer-link">Inicio</a>
                <a href="../../indice.html" class="footer-link">Índice completo</a>
                <a href="../../about.html" class="footer-link">Acerca de</a>
                <a href="../../terminos-y-condiciones.html" class="footer-link">Términos y condiciones</a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>© 2025 Programación para Mortales. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script>
        // Mobile Menu Toggle
        const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
        const nav = document.querySelector('.nav');
        mobileMenuBtn.addEventListener('click', () => {
            nav.classList.toggle('active');
        });

        // Header Scroll Effect
        const header = document.querySelector('.header');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        // Reading Progress Bar
        const progressBar = document.getElementById('progressBar');
        window.addEventListener('scroll', () => {
            const windowHeight = window.innerHeight;
            const documentHeight = document.documentElement.scrollHeight - windowHeight;
            const scrollTop = window.scrollY;
            const progress = (scrollTop / documentHeight) * 100;
            progressBar.style.width = progress + '%';
        });

        // Table of Contents Active Link
        const tocLinks = document.querySelectorAll('.toc-link');
        const sections = document.querySelectorAll('.content-wrapper h2, .content-wrapper h3');
        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - (header.offsetHeight + 20);
                if (window.scrollY >= sectionTop) {
                    current = section.getAttribute('id');
                }
            });

            tocLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href').substring(1) === current) {
                    link.classList.add('active');
                }
            });
        });
        
        // Copy Code Button
        const copyButtons = document.querySelectorAll('.copy-btn');
        copyButtons.forEach(button => {
            button.addEventListener('click', () => {
                const codeToCopy = button.closest('.code-block').querySelector('pre code').innerText;
                navigator.clipboard.writeText(codeToCopy).then(() => {
                    const originalText = button.textContent;
                    button.textContent = '¡Copiado!';
                    button.style.backgroundColor = 'var(--success)';
                    setTimeout(() => {
                        button.textContent = originalText;
                        button.style.backgroundColor = '';
                    }, 2000);
                }).catch(err => {
                    console.error('Error al copiar:', err);
                    alert('Error al copiar el código.');
                });
            });
        });
    </script>
</body>
</html>